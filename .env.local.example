# ==============================================================================
# ローカル開発環境用設定
# ==============================================================================
# このファイルをコピーして .env.local を作成してください
# コピー: cp .env.local.example .env.local

# ==============================================================================
# アプリケーション設定
# ==============================================================================
APP_NAME=camp-backend
VERSION=0.1.0
DEBUG=true
HOST=0.0.0.0
PORT=8000
WORKERS=1
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# ==============================================================================
# 実行環境
# ==============================================================================
ENVIRONMENT=development

# ==============================================================================
# セキュリティ設定
# ==============================================================================
# 開発環境用シークレットキー（本番環境では必ず変更）
# 注意: 32文字以上必要です
SECRET_KEY=dev-secret-key-change-in-production-must-be-32-chars-minimum
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_ROUNDS=12

# レート制限設定
RATE_LIMIT_CALLS=100
RATE_LIMIT_PERIOD=60

# Content Security Policy
ENABLE_CSP=true

# セキュリティポリシー設定
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_DURATION_HOURS=1

# ==============================================================================
# 認証設定
# ==============================================================================
# 認証モード（開発環境ではdevelopment推奨）
AUTH_MODE=development

# 開発モード認証設定（AUTH_MODE=developmentの場合に使用）
DEV_MOCK_TOKEN=mock-access-token-dev-12345
DEV_MOCK_USER_EMAIL=dev.user@example.com
DEV_MOCK_USER_OID=dev-azure-oid-12345
DEV_MOCK_USER_NAME=Development User

# マネージドID無効
USE_MANAGED_IDENTITY=false

# Azure AD認証設定（AUTH_MODE=productionの場合に使用）
# AZURE_TENANT_ID=your-azure-tenant-id
# AZURE_CLIENT_ID=your-azure-client-id
# AZURE_CLIENT_SECRET=your-azure-client-secret
# AZURE_OPENAPI_CLIENT_ID=your-azure-openapi-client-id

# ==============================================================================
# データベース設定（PostgreSQL）
# ==============================================================================
# ローカル開発環境ではWindows上のPostgreSQLを使用
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/camp_backend_db

# テストデータベース設定（pytest用）
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/camp_backend_db_test
TEST_DATABASE_ADMIN_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/postgres
TEST_DATABASE_NAME=camp_backend_db_test

# データベース接続プール設定
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=true

# Docker PostgreSQL コンテナ設定
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=app_db
POSTGRES_PORT=5432

# ==============================================================================
# PgAdmin設定（オプション）
# ==============================================================================
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# ==============================================================================
# Redis設定（キャッシュ）
# ==============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PORT=6379
CACHE_TTL=300

# ==============================================================================
# ストレージ設定
# ==============================================================================
STORAGE_BACKEND=local
LOCAL_STORAGE_PATH=./uploads

# ==============================================================================
# LLM設定
# ==============================================================================
# LLMモデル設定
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-5-sonnet-20241022
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=4096

# Anthropic Claude API（開発環境用）
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI API（開発環境用）
# OPENAI_API_KEY=your_openai_api_key_here

# Azure OpenAI API（開発環境用）
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
# AZURE_OPENAI_API_VERSION=2024-12-01-preview
# AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1
# AZURE_OPENAI_EMBEDDING_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# LangSmith（オプション - トレーシング）
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_API_KEY=your_langsmith_api_key_here
# LANGCHAIN_PROJECT=camp-backend-dev

# ==============================================================================
# ファイルアップロード設定
# ==============================================================================
MAX_UPLOAD_SIZE=10485760
MAX_FILE_SIZE_MB=10

# ==============================================================================
# ステージング環境用設定
# ==============================================================================
# このファイルをコピーして .env.staging を作成してください
# コピー: cp .env.staging.example .env.staging

# ==============================================================================
# アプリケーション設定
# ==============================================================================
APP_NAME=camp-backend (Staging)
VERSION=0.1.0
DEBUG=false
HOST=0.0.0.0
PORT=8000
WORKERS=4
# ステージング環境では特定のオリジンのみ許可
ALLOWED_ORIGINS=["https://staging.example.com"]

# ==============================================================================
# 実行環境
# ==============================================================================
ENVIRONMENT=staging

# ==============================================================================
# セキュリティ設定
# ==============================================================================
# ステージング環境用シークレットキー（必ず変更すること）
# 生成方法: openssl rand -hex 32
SECRET_KEY=your-staging-secret-key-here-use-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_ROUNDS=12

# レート制限設定
RATE_LIMIT_CALLS=100
RATE_LIMIT_PERIOD=60

# Content Security Policy
ENABLE_CSP=true

# セキュリティポリシー設定
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_DURATION_HOURS=1

# ==============================================================================
# データベース設定（PostgreSQL）
# ==============================================================================
# ステージング環境のPostgreSQL接続URL
DATABASE_URL=postgresql+asyncpg://username:password@staging-db-host:5432/camp_backend_db_staging

# テストデータベース設定
TEST_DATABASE_URL=postgresql+asyncpg://username:password@staging-db-host:5432/camp_backend_db_test_staging
TEST_DATABASE_ADMIN_URL=postgresql+asyncpg://username:password@staging-db-host:5432/postgres
TEST_DATABASE_NAME=camp_backend_db_test_staging

# データベース接続プール設定
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=true

# ==============================================================================
# Redis設定（キャッシュ）
# ==============================================================================
# ステージング環境のRedis接続URL
REDIS_URL=redis://staging-redis-host:6379/0
CACHE_TTL=300

# ==============================================================================
# ストレージ設定
# ==============================================================================
# ステージング環境ではAzure Storageを使用
STORAGE_BACKEND=azure
AZURE_STORAGE_ACCOUNT_NAME=your_staging_storage_account_name
AZURE_STORAGE_CONNECTION_STRING=your_staging_azure_connection_string
AZURE_STORAGE_CONTAINER_NAME=staging-uploads

# ==============================================================================
# LLM設定
# ==============================================================================
# LLMモデル設定
LLM_PROVIDER=azure_openai
LLM_MODEL=gpt-4
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=4096

# ステージング環境ではAzure OpenAIを使用
AZURE_OPENAI_ENDPOINT=https://your-staging-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your_staging_azure_openai_api_key
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Anthropic Claude（オプション）
# ANTHROPIC_API_KEY=your_staging_anthropic_api_key

# OpenAI（オプション）
# OPENAI_API_KEY=your_staging_openai_api_key

# LangSmith設定（トレースと監視）
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=your_staging_langsmith_api_key
LANGCHAIN_PROJECT=camp-backend-staging

# ==============================================================================
# ファイルアップロード設定
# ==============================================================================
MAX_UPLOAD_SIZE=10485760
MAX_FILE_SIZE_MB=10

# ==============================================================================
# Azure AD認証設定
# ==============================================================================
# 認証モード（ステージング環境ではproduction推奨）
AUTH_MODE=production

# Azure AD設定（本番モード用）
AZURE_TENANT_ID=your-staging-tenant-id
AZURE_CLIENT_ID=your-staging-backend-client-id
AZURE_CLIENT_SECRET=your-staging-client-secret
AZURE_OPENAPI_CLIENT_ID=your-staging-frontend-client-id

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ›¸

## 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ

### 1.1 ç”»é¢ä¸€è¦§

| ç”»é¢ID | ç”»é¢å | ãƒ‘ã‚¹ | èª¬æ˜ |
|--------|--------|------|------|
| templates | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ | /projects/{id}/templates | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ç”»é¢ |
| template-select | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ | - | ãƒ¢ãƒ¼ãƒ€ãƒ«/ãƒ‰ãƒ­ãƒ¯ãƒ¼ï¼ˆtree-newå†…ï¼‰ |

### 1.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```text
features/templates/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TemplateList/
â”‚   â”‚   â”œâ”€â”€ TemplateList.tsx          # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ TemplateCard.tsx          # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ TemplateFilters.tsx       # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½
â”‚   â”œâ”€â”€ TemplateSelector/
â”‚   â”‚   â”œâ”€â”€ TemplateSelector.tsx      # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠUIï¼ˆtree-newå†…ã§ä½¿ç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ TemplatePreview.tsx       # ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ CategoryFilter.tsx        # æ¥­ç¨®ãƒ»åˆ†æã‚¿ã‚¤ãƒ—ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
â”‚   â””â”€â”€ TemplateForm/
â”‚       â”œâ”€â”€ CreateTemplateModal.tsx   # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚       â””â”€â”€ TemplateFormFields.tsx    # ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAnalysisTemplates.ts       # åˆ†æãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ãƒƒã‚¯
â”‚   â””â”€â”€ useDriverTreeTemplates.ts     # ãƒ„ãƒªãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ãƒƒã‚¯
â”œâ”€â”€ api/
â”‚   â””â”€â”€ templateApi.ts                # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆAPIå‘¼ã³å‡ºã—
â””â”€â”€ types/
    â””â”€â”€ template.ts                   # å‹å®šç¾©
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠUIï¼ˆtree-newç”»é¢å†…ï¼‰**

æ—¢å­˜ã®tree-newç”»é¢å†…ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠéƒ¨åˆ†ã¯ã€`TemplateSelector`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦driver_tree_templateãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ä½œæˆ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¥­ç¨®: [ã™ã¹ã¦] [å°å£²ãƒ»EC] [è£½é€ æ¥­] [ã‚µãƒ¼ãƒ“ã‚¹æ¥­] [SaaS]  â”‚
â”‚  åˆ†æã‚¿ã‚¤ãƒ—: [ã™ã¹ã¦] [å£²ä¸Šåˆ†æ] [ã‚³ã‚¹ãƒˆåˆ†æ] [åˆ©ç›Šåˆ†æ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ˆ       â”‚ â”‚ ğŸ›’       â”‚ â”‚ ğŸ”„       â”‚ â”‚ ğŸ­       â”‚  â”‚
â”‚  â”‚ å£²ä¸Šåˆ†è§£ â”‚ â”‚ ECå£²ä¸Š   â”‚ â”‚ SaaS MRR â”‚ â”‚ è£½é€ ã‚³ã‚¹ãƒˆâ”‚  â”‚
â”‚  â”‚ ãƒ¢ãƒ‡ãƒ«   â”‚ â”‚ ãƒ¢ãƒ‡ãƒ«   â”‚ â”‚ åˆ†è§£     â”‚ â”‚ æ§‹é€      â”‚  â”‚
â”‚  â”‚ ãƒãƒ¼ãƒ‰:8 â”‚ â”‚ ãƒãƒ¼ãƒ‰:12â”‚ â”‚ ãƒãƒ¼ãƒ‰:15â”‚ â”‚ ãƒãƒ¼ãƒ‰:18â”‚  â”‚
â”‚  â”‚ åˆ©ç”¨:150+â”‚ â”‚ åˆ©ç”¨:80+ â”‚ â”‚ åˆ©ç”¨:45+ â”‚ â”‚ åˆ©ç”¨:35+ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ â•       â”‚                                          â”‚
â”‚  â”‚ ç©ºã®     â”‚                                          â”‚
â”‚  â”‚ ãƒ„ãƒªãƒ¼   â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

---

## 2. ç”»é¢è©³ç´°è¨­è¨ˆ

### 2.1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠç”»é¢ï¼ˆtree-newå†…ï¼‰

| ç”»é¢é …ç›® | è¡¨ç¤º/å…¥åŠ›å½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|-------------|------------------|-----------|---------|
| æ¥­ç¨®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ | ãƒãƒƒãƒ—é¸æŠ | GET /driver-tree/template | query: category | - |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ | ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ | GET /driver-tree/template | templates[] | - |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | GET /driver-tree/template | templates[].name | - |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ | ã‚¢ã‚¤ã‚³ãƒ³ | - | - | ã‚«ãƒ†ã‚´ãƒªâ†’ã‚¢ã‚¤ã‚³ãƒ³å¤‰æ› |
| ãƒãƒ¼ãƒ‰æ•° | ãƒ†ã‚­ã‚¹ãƒˆ | GET /driver-tree/template | templates[].nodeCount | "ãƒãƒ¼ãƒ‰: n" |
| åˆ©ç”¨å®Ÿç¸¾ | ãƒ†ã‚­ã‚¹ãƒˆ | GET /driver-tree/template | templates[].usageCount | "åˆ©ç”¨å®Ÿç¸¾: n+" |
| äººæ°—ãƒãƒƒã‚¸ | ãƒãƒƒã‚¸ | GET /driver-tree/template | templates[].usageCount | >100ã§è¡¨ç¤º |

### 2.2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«

| ç”»é¢é …ç›® | å…¥åŠ›å½¢å¼ | å¿…é ˆ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|---------|---------|------|------------------|---------------------|---------------|
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | â—‹ | POST /driver-tree/template | name | 1-255æ–‡å­— |
| èª¬æ˜ | ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ | - | POST /driver-tree/template | description | ä»»æ„ |
| ã‚«ãƒ†ã‚´ãƒª | ã‚»ãƒ¬ã‚¯ãƒˆ | - | POST /driver-tree/template | category | æ¥­ç¨®é¸æŠ |
| å…¬é–‹è¨­å®š | ãƒˆã‚°ãƒ« | - | POST /driver-tree/template | isPublic | true/false |
| å…ƒãƒ„ãƒªãƒ¼ | éè¡¨ç¤º | â—‹ | POST /driver-tree/template | sourceTreeId | ç¾åœ¨ã®ãƒ„ãƒªãƒ¼ID |

### 2.3 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ç”»é¢

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | GET /template | templates[].name | - |
| èª¬æ˜ | ãƒ†ã‚­ã‚¹ãƒˆ | GET /template | templates[].description | - |
| ã‚¿ã‚¤ãƒ— | ãƒãƒƒã‚¸ | GET /template | templates[].templateType | session/tree |
| å…¬é–‹çŠ¶æ…‹ | ã‚¢ã‚¤ã‚³ãƒ³ | GET /template | templates[].isPublic | å…¬é–‹/éå…¬é–‹ã‚¢ã‚¤ã‚³ãƒ³ |
| ä½¿ç”¨å›æ•° | æ•°å€¤ | GET /template | templates[].usageCount | - |
| ä½œæˆè€… | ãƒ†ã‚­ã‚¹ãƒˆ | GET /template | templates[].createdByName | - |
| ä½œæˆæ—¥æ™‚ | æ—¥æ™‚ | GET /template | templates[].createdAt | YYYY/MM/DDå½¢å¼ |
| å‰Šé™¤ãƒœã‚¿ãƒ³ | ãƒœã‚¿ãƒ³ | DELETE /template/{id} | - | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |

---

## 7. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸è¡¨

| UC ID | æ©Ÿèƒ½å | API | ç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|-------|-----|-------------------|-----------|
| TM-001 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§è¡¨ç¤º | `GET /template` | templates, tree-new | è¨­è¨ˆæ¸ˆ |
| TM-002 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰ï¼‰ | `POST /analysis/template` | session-detail | è¨­è¨ˆæ¸ˆ |
| TM-003 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆï¼ˆãƒ„ãƒªãƒ¼ã‹ã‚‰ï¼‰ | `POST /driver-tree/template` | tree-edit | è¨­è¨ˆæ¸ˆ |
| TM-004 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨ | `POST /session`, `POST /tree/import` | session-new, tree-new | è¨­è¨ˆæ¸ˆ |
| TM-005 | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šé™¤ | `DELETE /template/{id}` | templates | è¨­è¨ˆæ¸ˆ |

---

## 8. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ›¸**: [01-template-design.md](./01-template-design.md)
- **APIå…±é€šä»•æ§˜**: [../01-api-overview/01-api-overview.md](../01-api-overview/01-api-overview.md)

---

## 9. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆID | TM-FRONTEND-001 |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | TM-001ã€œTM-005 |
| æœ€çµ‚æ›´æ–°æ—¥ | 2026-01-01 |
| å¯¾è±¡ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `pages/templates/` |

# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ çµ±åˆè¨­è¨ˆæ›¸ï¼ˆD-001ã€œD-006ï¼‰

## 1. æ¦‚è¦

### 1.1 ç›®çš„

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€CAMPã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½ã®çµ±åˆè¨­è¨ˆä»•æ§˜ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ›ãƒ¼ãƒ ç”»é¢ã¨ã—ã¦ã€å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»åˆ†æã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼ã®çµ±è¨ˆæƒ…å ±ã€æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã€ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

### 1.2 å¯¾è±¡ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

| ã‚«ãƒ†ã‚´ãƒª | UC ID | æ©Ÿèƒ½å |
|---------|-------|--------|
| **çµ±è¨ˆè¡¨ç¤º** | D-001 | å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°è¡¨ç¤º |
| | D-002 | é€²è¡Œä¸­ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°è¡¨ç¤º |
| | D-003 | ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼æ•°è¡¨ç¤º |
| | D-004 | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«æ•°è¡¨ç¤º |
| **ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£** | D-005 | æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£è¡¨ç¤º |
| **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹** | D-006 | ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ»æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¤º |

### 1.3 è¿½åŠ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ•°

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æ•°é‡ |
|--------------|------|
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ« | 0ï¼ˆæ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«åˆ©ç”¨ï¼‰ |
| APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | 3 |
| Pydanticã‚¹ã‚­ãƒ¼ãƒ | 11 |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”»é¢ | 1 |

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 2.1 åˆ©ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯å°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æŒãŸãšã€æ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰çµ±è¨ˆæƒ…å ±ã‚’é›†è¨ˆã—ã¾ã™ã€‚

| ãƒ†ãƒ¼ãƒ–ãƒ«å | ç”¨é€” |
|-----------|------|
| project | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆ |
| project_member | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•° |
| analysis_session | ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±è¨ˆ |
| driver_tree | ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼çµ±è¨ˆ |
| project_file | ãƒ•ã‚¡ã‚¤ãƒ«çµ±è¨ˆ |
| user_account | ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆ |
| user_activity | ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚° |

### 2.2 çµ±è¨ˆã‚¯ã‚¨ãƒªä¾‹

```sql
-- å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥ï¼‰
SELECT COUNT(DISTINCT p.id) as project_count
FROM project p
INNER JOIN project_member pm ON p.id = pm.project_id
WHERE pm.user_id = :user_id AND p.is_active = true;

-- é€²è¡Œä¸­ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°
SELECT COUNT(*) as active_sessions
FROM analysis_session
WHERE status = 'active';

-- ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼æ•°
SELECT COUNT(*) as tree_count
FROM driver_tree;

-- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«æ•°
SELECT COUNT(*) as file_count, COALESCE(SUM(file_size), 0) as total_size
FROM project_file;
```

---

## 3. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¨­è¨ˆ

### 3.1 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | /api/v1/dashboard/stats | çµ±è¨ˆæƒ…å ±å–å¾— |
| GET | /api/v1/dashboard/activities | ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°å–å¾— |
| GET | /api/v1/dashboard/charts | ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿å–å¾— |

### 3.2 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å®šç¾©

#### GET /api/v1/dashboard/statsï¼ˆçµ±è¨ˆæƒ…å ±å–å¾—ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (200):**

```json
{
  "projects": {
    "total": 15,
    "active": 12,
    "archived": 3
  },
  "sessions": {
    "total": 45,
    "draft": 5,
    "active": 10,
    "completed": 30
  },
  "trees": {
    "total": 28,
    "draft": 3,
    "active": 15,
    "completed": 10
  },
  "users": {
    "total": 50,
    "active": 35
  },
  "files": {
    "total": 120,
    "totalSizeBytes": 536870912
  },
  "generatedAt": "2026-01-01T00:00:00Z"
}
```

#### GET /api/v1/dashboard/activitiesï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°å–å¾—ï¼‰

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| skip | int | - | 0 | ã‚¹ã‚­ãƒƒãƒ—æ•° |
| limit | int | - | 20 | å–å¾—ä»¶æ•°ï¼ˆæœ€å¤§100ï¼‰ |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (200):**

```json
{
  "activities": [
    {
      "id": "uuid",
      "userId": "uuid",
      "userName": "å±±ç”° å¤ªéƒ",
      "action": "created",
      "resourceType": "session",
      "resourceId": "uuid",
      "resourceName": "Q4å£²ä¸Šåˆ†æ",
      "details": {
        "projectName": "å£²ä¸Šåˆ†æãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"
      },
      "createdAt": "2026-01-01T00:00:00Z"
    }
  ],
  "total": 100,
  "skip": 0,
  "limit": 20
}
```

#### GET /api/v1/dashboard/chartsï¼ˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰

**ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | èª¬æ˜ |
|-----------|-----|------|-----------|------|
| days | int | - | 30 | é›†è¨ˆå¯¾è±¡æ—¥æ•°ï¼ˆæœ€å¤§365ï¼‰ |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ (200):**

```json
{
  "sessionTrend": {
    "chartType": "bar",
    "title": "ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰",
    "data": [
      {"label": "12/19", "value": 4},
      {"label": "12/20", "value": 6},
      {"label": "12/21", "value": 3}
    ],
    "xAxisLabel": "æ—¥ä»˜",
    "yAxisLabel": "ä»¶æ•°"
  },
  "snapshotTrend": {
    "chartType": "bar",
    "title": "ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰",
    "data": [
      {"label": "12/19", "value": 2},
      {"label": "12/20", "value": 3},
      {"label": "12/21", "value": 1}
    ],
    "xAxisLabel": "æ—¥ä»˜",
    "yAxisLabel": "ä»¶æ•°"
  },
  "treeTrend": {
    "chartType": "bar",
    "title": "ãƒ„ãƒªãƒ¼ä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰",
    "data": [
      {"label": "12/19", "value": 2},
      {"label": "12/20", "value": 1},
      {"label": "12/21", "value": 3}
    ],
    "xAxisLabel": "æ—¥ä»˜",
    "yAxisLabel": "ä»¶æ•°"
  },
  "projectDistribution": {
    "chartType": "pie",
    "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ…‹åˆ†å¸ƒ",
    "data": [
      {"label": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–", "value": 12},
      {"label": "ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–", "value": 3}
    ],
    "xAxisLabel": null,
    "yAxisLabel": null
  },
  "projectProgress": {
    "chartType": "bar",
    "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—",
    "data": [
      {"label": "å£²ä¸Šåˆ†æãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "value": 75},
      {"label": "å¸‚å ´èª¿æŸ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "value": 45},
      {"label": "è£½å“æ”¹å–„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "value": 90}
    ],
    "xAxisLabel": null,
    "yAxisLabel": "é€²æ—ç‡ï¼ˆ%ï¼‰"
  },
  "userActivity": {
    "chartType": "line",
    "title": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£",
    "data": [
      {"label": "12/19", "value": 15},
      {"label": "12/20", "value": 22},
      {"label": "12/21", "value": 18}
    ],
    "xAxisLabel": "æ—¥ä»˜",
    "yAxisLabel": "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•°"
  },
  "generatedAt": "2026-01-01T00:00:00Z"
}
```

---

## 4. Pydanticã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ

### 4.1 çµ±è¨ˆæƒ…å ±ã‚¹ã‚­ãƒ¼ãƒ

```python
class ProjectStats(BaseCamelCaseModel):
    """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆ"""
    total: int
    active: int
    archived: int

class SessionStats(BaseCamelCaseModel):
    """ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±è¨ˆ"""
    total: int
    draft: int = 0
    active: int = 0
    completed: int = 0

class TreeStats(BaseCamelCaseModel):
    """ãƒ„ãƒªãƒ¼çµ±è¨ˆ"""
    total: int
    draft: int = 0
    active: int = 0
    completed: int = 0

class UserStats(BaseCamelCaseModel):
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆ"""
    total: int
    active: int

class FileStats(BaseCamelCaseModel):
    """ãƒ•ã‚¡ã‚¤ãƒ«çµ±è¨ˆ"""
    total: int
    total_size_bytes: int = 0

class DashboardStatsResponse(BaseCamelCaseModel):
    """ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çµ±è¨ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹"""
    projects: ProjectStats
    sessions: SessionStats
    trees: TreeStats
    users: UserStats
    files: FileStats
    generated_at: datetime
```

### 4.2 ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¹ã‚­ãƒ¼ãƒ

```python
class ActivityLogResponse(BaseCamelCaseModel):
    """ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°"""
    id: UUID
    user_id: UUID
    user_name: str
    action: str  # created/updated/deleted/accessed
    resource_type: str  # project/session/tree/file
    resource_id: UUID
    resource_name: str
    details: dict[str, Any] | None = None
    created_at: datetime

class DashboardActivitiesResponse(BaseCamelCaseModel):
    """ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ä¸€è¦§ãƒ¬ã‚¹ãƒãƒ³ã‚¹"""
    activities: list[ActivityLogResponse] = []
    total: int
    skip: int
    limit: int
```

### 4.3 ãƒãƒ£ãƒ¼ãƒˆã‚¹ã‚­ãƒ¼ãƒ

```python
class ChartDataPoint(BaseCamelCaseModel):
    """ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ"""
    label: str
    value: float

class ChartDataResponse(BaseCamelCaseModel):
    """ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿"""
    chart_type: str  # line/bar/pie/area
    title: str
    data: list[ChartDataPoint] = []
    x_axis_label: str | None = None
    y_axis_label: str | None = None

class DashboardChartsResponse(BaseCamelCaseModel):
    """ãƒãƒ£ãƒ¼ãƒˆä¸€è¦§ãƒ¬ã‚¹ãƒãƒ³ã‚¹"""
    session_trend: ChartDataResponse
    snapshot_trend: ChartDataResponse
    tree_trend: ChartDataResponse
    project_distribution: ChartDataResponse
    project_progress: ChartDataResponse
    user_activity: ChartDataResponse
    generated_at: datetime
```

---

## 5. ã‚µãƒ¼ãƒ“ã‚¹å±¤è¨­è¨ˆ

### 5.1 ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹

```python
class DashboardService:
    """ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹"""

    def __init__(self, db: AsyncSession):
        self.db = db

    async def get_stats(self) -> DashboardStatsResponse:
        """çµ±è¨ˆæƒ…å ±ã‚’å–å¾—"""
        projects = await self._get_project_stats()
        sessions = await self._get_session_stats()
        trees = await self._get_tree_stats()
        users = await self._get_user_stats()
        files = await self._get_file_stats()

        return DashboardStatsResponse(
            projects=projects,
            sessions=sessions,
            trees=trees,
            users=users,
            files=files,
            generated_at=datetime.utcnow()
        )

    async def get_activities(
        self, skip: int = 0, limit: int = 20
    ) -> DashboardActivitiesResponse:
        """ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°ã‚’å–å¾—"""
        # user_activityãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—
        ...

    async def get_charts(self, days: int = 30) -> DashboardChartsResponse:
        """ãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—"""
        session_trend = await self._get_session_trend(days)
        snapshot_trend = await self._get_snapshot_trend(days)
        tree_trend = await self._get_tree_trend(days)
        project_distribution = await self._get_project_distribution()
        project_progress = await self._get_project_progress()
        user_activity = await self._get_user_activity_trend(days)

        return DashboardChartsResponse(
            session_trend=session_trend,
            snapshot_trend=snapshot_trend,
            tree_trend=tree_trend,
            project_distribution=project_distribution,
            project_progress=project_progress,
            user_activity=user_activity,
            generated_at=datetime.utcnow()
        )

    async def _get_project_stats(self) -> ProjectStats:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±è¨ˆã‚’å–å¾—"""
        ...

    async def _get_session_stats(self) -> SessionStats:
        """ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ±è¨ˆã‚’å–å¾—"""
        ...

    async def _get_tree_stats(self) -> TreeStats:
        """ãƒ„ãƒªãƒ¼çµ±è¨ˆã‚’å–å¾—"""
        ...

    async def _get_user_stats(self) -> UserStats:
        """ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆã‚’å–å¾—"""
        ...

    async def _get_file_stats(self) -> FileStats:
        """ãƒ•ã‚¡ã‚¤ãƒ«çµ±è¨ˆã‚’å–å¾—"""
        ...

    async def _get_session_trend(self, days: int) -> ChartDataResponse:
        """ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–å¾—"""
        ...

    async def _get_snapshot_trend(self, days: int) -> ChartDataResponse:
        """ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–å¾—"""
        ...

    async def _get_tree_trend(self, days: int) -> ChartDataResponse:
        """ãƒ„ãƒªãƒ¼ä½œæˆãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–å¾—"""
        ...

    async def _get_project_distribution(self) -> ChartDataResponse:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ…‹åˆ†å¸ƒã‚’å–å¾—"""
        ...

    async def _get_project_progress(self) -> ChartDataResponse:
        """ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ã‚’å–å¾—"""
        ...

    async def _get_user_activity_trend(self, days: int) -> ChartDataResponse:
        """ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–å¾—"""
        ...
```

---

## 6. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ

### 6.1 ç”»é¢ä¸€è¦§

| ç”»é¢ID | ç”»é¢å | ãƒ‘ã‚¹ | èª¬æ˜ |
|--------|--------|------|------|
| dashboard | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | / | ãƒ›ãƒ¼ãƒ ç”»é¢ |

### 6.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```text
features/dashboard/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StatsGrid/
â”‚   â”‚   â”œâ”€â”€ StatsGrid.tsx
â”‚   â”‚   â””â”€â”€ StatCard.tsx
â”‚   â”œâ”€â”€ Charts/
â”‚   â”‚   â”œâ”€â”€ ActivityChart.tsx
â”‚   â”‚   â”œâ”€â”€ ProjectProgressChart.tsx
â”‚   â”‚   â””â”€â”€ ChartContainer.tsx
â”‚   â”œâ”€â”€ ActivityList/
â”‚   â”‚   â”œâ”€â”€ ActivityList.tsx
â”‚   â”‚   â””â”€â”€ ActivityItem.tsx
â”‚   â””â”€â”€ QuickAccess/
â”‚       â”œâ”€â”€ QuickActions.tsx
â”‚       â””â”€â”€ RecentProjects.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useDashboardStats.ts
â”‚   â”œâ”€â”€ useDashboardActivities.ts
â”‚   â””â”€â”€ useDashboardCharts.ts
â”œâ”€â”€ api/
â”‚   â””â”€â”€ dashboardApi.ts
â””â”€â”€ types/
    â””â”€â”€ dashboard.ts
```

### 6.3 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                            [æœŸé–“é¸æŠ â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“         â”‚  ğŸ“Š         â”‚  ğŸŒ³         â”‚  ğŸ“„           â”‚
â”‚  å‚åŠ        â”‚  é€²è¡Œä¸­     â”‚  ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ â”‚  ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â”‚
â”‚  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚  ã‚»ãƒƒã‚·ãƒ§ãƒ³ â”‚  ãƒ„ãƒªãƒ¼     â”‚  ãƒ•ã‚¡ã‚¤ãƒ«     â”‚
â”‚  12         â”‚  5          â”‚  8          â”‚  47           â”‚
â”‚  +2 ä»Šæœˆ    â”‚  ã‚¢ã‚¯ãƒ†ã‚£ãƒ– â”‚  +1 ä»Šé€±    â”‚  åˆè¨ˆ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆ†æã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£       â”‚  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ [ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ]    â”‚   â”‚  â”‚ [ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼]  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£     â”‚  ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ [ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£   â”‚   â”‚  â”‚ [ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]â”‚    â”‚
â”‚  â”‚  ãƒªã‚¹ãƒˆ]          â”‚   â”‚  â”‚ [æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ç”»é¢é …ç›®ãƒ»APIãƒãƒƒãƒ”ãƒ³ã‚°

### 7.1 çµ±è¨ˆã‚«ãƒ¼ãƒ‰

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | æ•°å€¤ | GET /dashboard/stats | projects.active | - |
| å¢—æ¸›è¡¨ç¤º | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/stats | ï¼ˆå‰æœŸé–“æ¯”è¼ƒï¼‰ | +n ä»Šæœˆ |
| é€²è¡Œä¸­ã‚»ãƒƒã‚·ãƒ§ãƒ³ | æ•°å€¤ | GET /dashboard/stats | sessions.active | - |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | ãƒ†ã‚­ã‚¹ãƒˆ | - | - | å›ºå®šå€¤"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–" |
| ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼ | æ•°å€¤ | GET /dashboard/stats | trees.total | - |
| å¢—æ¸›è¡¨ç¤º | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/stats | ï¼ˆå‰æœŸé–“æ¯”è¼ƒï¼‰ | +n ä»Šé€± |
| ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ« | æ•°å€¤ | GET /dashboard/stats | files.total | - |
| åˆè¨ˆè¡¨ç¤º | ãƒ†ã‚­ã‚¹ãƒˆ | - | - | å›ºå®šå€¤"åˆè¨ˆ" |

### 7.2 åˆ†æã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒãƒ£ãƒ¼ãƒˆ

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒ¼ | æ£’ã‚°ãƒ©ãƒ• | GET /dashboard/charts | sessionTrend.data[] | labelâ†’Xè»¸, valueâ†’å¹… |
| ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒãƒ¼ | æ£’ã‚°ãƒ©ãƒ• | GET /dashboard/charts | snapshotTrend.data[] | labelâ†’Xè»¸, valueâ†’å¹… |
| æ—¥ä»˜ãƒ©ãƒ™ãƒ« | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/charts | sessionTrend.data[].label | MM/DDå½¢å¼ |
| å€¤è¡¨ç¤º | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/charts | sessionTrend.data[].value | n / m å½¢å¼ |
| å‡¡ä¾‹ | ãƒ†ã‚­ã‚¹ãƒˆ | - | - | å›ºå®šå€¤ |

### 7.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/charts | projectProgress.data[].label | - |
| é€²æ—ç‡ | æ•°å€¤+% | GET /dashboard/charts | projectProgress.data[].value | n% è¡¨ç¤º |
| ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ | ãƒãƒ¼ | GET /dashboard/charts | projectProgress.data[].value | width: n% |
| ãƒãƒ¼è‰² | è‰² | - | - | é€²æ—ç‡ã«å¿œã˜ã¦å¤‰æ›´ |

### 7.4 æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| ã‚¢ã‚¤ã‚³ãƒ³ | ã‚¢ã‚¤ã‚³ãƒ³ | GET /dashboard/activities | activities[].resourceType | typeâ†’ã‚¢ã‚¤ã‚³ãƒ³å¤‰æ› |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼å | ãƒ†ã‚­ã‚¹ãƒˆï¼ˆå¤ªå­—ï¼‰ | GET /dashboard/activities | activities[].userName | - |
| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/activities | activities[].action | createdâ†’ä½œæˆã—ã¾ã—ãŸç­‰ |
| ãƒªã‚½ãƒ¼ã‚¹å | ãƒ†ã‚­ã‚¹ãƒˆï¼ˆå¤ªå­—ï¼‰ | GET /dashboard/activities | activities[].resourceName | - |
| æ™‚é–“ | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/activities | activities[].createdAt | ç›¸å¯¾æ™‚é–“è¡¨ç¤ºï¼ˆnåˆ†å‰ï¼‰ |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | GET /dashboard/activities | activities[].details.projectName | - |
| ã™ã¹ã¦è¦‹ã‚‹ãƒªãƒ³ã‚¯ | ãƒªãƒ³ã‚¯ | - | - | ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ä¸€è¦§ã¸é·ç§» |

### 7.5 ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | é·ç§»å…ˆ |
|---------|---------|------------------|-----------|--------|
| æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | ãƒœã‚¿ãƒ³ | - | - | /projects/new |
| åˆ†æé–‹å§‹ | ãƒœã‚¿ãƒ³ | - | - | /sessions/new |
| ãƒ„ãƒªãƒ¼ä½œæˆ | ãƒœã‚¿ãƒ³ | - | - | /trees/new |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | ãƒœã‚¿ãƒ³ | - | - | /upload |

### 7.6 æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

| ç”»é¢é …ç›® | è¡¨ç¤ºå½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¤‰æ›å‡¦ç† |
|---------|---------|------------------|---------------------|---------|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå | ãƒ†ã‚­ã‚¹ãƒˆ | GET /api/v1/projects?sort=updated_at&order=desc&limit=5 | projects[].name | - |
| ãƒ¡ãƒ³ãƒãƒ¼æ•° | ãƒ†ã‚­ã‚¹ãƒˆ | GET /api/v1/projects | projects[].member_count | näººã®ãƒ¡ãƒ³ãƒãƒ¼ |
| æ›´æ–°æ™‚é–“ | ãƒ†ã‚­ã‚¹ãƒˆ | GET /api/v1/projects | projects[].updated_at | æ›´æ–°: nåˆ†å‰ |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¢ã‚¤ã‚³ãƒ³ | ã‚¢ã‚¤ã‚³ãƒ³ | - | - | å›ºå®š ğŸ“ |

**è£œè¶³**: æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§APIï¼ˆGET /api/v1/projectsï¼‰ã‚’åˆ©ç”¨ã—ã€æ›´æ–°æ—¥æ™‚ã§é™é †ã‚½ãƒ¼ãƒˆã€ä¸Šä½5ä»¶ã‚’å–å¾—ã—ã¾ã™ã€‚

### 7.7 æœŸé–“é¸æŠ

| ç”»é¢é …ç›® | å…¥åŠ›å½¢å¼ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å€¤ |
|---------|---------|------------------|-----------|-----|
| éå»7æ—¥é–“ | é¸æŠè‚¢ | GET /dashboard/charts | days | 7 |
| éå»30æ—¥é–“ | é¸æŠè‚¢ | GET /dashboard/charts | days | 30 |
| éå»90æ—¥é–“ | é¸æŠè‚¢ | GET /dashboard/charts | days | 90 |

---

## 8. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚«ãƒãƒ¬ãƒƒã‚¸è¡¨

| UC ID | æ©Ÿèƒ½å | API | ç”»é¢ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|--------|-----|------|-----------|
| D-001 | å‚åŠ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°è¡¨ç¤º | GET /dashboard/stats | dashboard | å®Ÿè£…æ¸ˆ |
| D-002 | é€²è¡Œä¸­ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°è¡¨ç¤º | GET /dashboard/stats | dashboard | å®Ÿè£…æ¸ˆ |
| D-003 | ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãƒ„ãƒªãƒ¼æ•°è¡¨ç¤º | GET /dashboard/stats | dashboard | å®Ÿè£…æ¸ˆ |
| D-004 | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«æ•°è¡¨ç¤º | GET /dashboard/stats | dashboard | å®Ÿè£…æ¸ˆ |
| D-005 | æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£è¡¨ç¤º | GET /dashboard/activities | dashboard | å®Ÿè£…æ¸ˆ |
| D-006 | ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ»æœ€è¿‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¤º | - | dashboard | å®Ÿè£…æ¸ˆ |

ã‚«ãƒãƒ¬ãƒƒã‚¸: 6/6 = 100%

---

## 9. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸€è¦§**: [../../01-usercases/01-usecases.md](../../01-usercases/01-usecases.md)
- **ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—**: [../../03-mockup/pages/index.js](../../03-mockup/pages/index.js)
- **APIå…±é€šä»•æ§˜**: [../01-api-overview/01-api-overview.md](../01-api-overview/01-api-overview.md)

---

## 10. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆID | DB-DESIGN-001 |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | D-001ã€œD-006 |
| æœ€çµ‚æ›´æ–°æ—¥ | 2026-01-01 |
| å¯¾è±¡ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ | `src/app/services/dashboard/` |
|  | `src/app/schemas/dashboard/` |
|  | `src/app/api/routes/v1/dashboard/` |
